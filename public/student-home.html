<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Dashboard - SmartCampus</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Premium Dashboard Animations & Neon Effects */
        body {
            background: #050b14; 
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(99, 102, 241, 0.15), transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(236, 72, 153, 0.15), transparent 25%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0 15px;
            padding-bottom: 60px; /* Space for the fixed logout button */
        }

        .profile-banner {
            background: linear-gradient(135deg, rgba(79, 70, 229, 0.9) 0%, rgba(192, 132, 252, 0.9) 100%);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(79, 70, 229, 0.3);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.2);
            backdrop-filter: blur(20px);
        }

        .profile-banner::after {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 50%; height: 100%;
            background: linear-gradient(to right, transparent, rgba(255,255,255,0.2), transparent);
            transform: skewX(-25deg);
            animation: bannerShine 6s infinite;
        }
        @keyframes bannerShine { 0% { left: -100%; } 20% { left: 200%; } 100% { left: 200%; } }

        /* LIVE NOTICEBOARD CSS */
        @keyframes scrollY {
            0% { top: 150px; }
            100% { top: -350px; } 
        }
        .notice-scroll {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 0 25px; 
            box-sizing: border-box; 
            animation: scrollY 18s linear infinite;
        }
        .notice-scroll:hover {
            animation-play-state: paused;
        }
        @keyframes pulseDot {
            0% { box-shadow: 0 0 0 0 rgba(244, 63, 94, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(244, 63, 94, 0); }
            100% { box-shadow: 0 0 0 0 rgba(244, 63, 94, 0); }
        }
        
        .notice-item {
            width: 100%;
            box-sizing: border-box;
            word-wrap: break-word;
            white-space: normal;
            padding: 15px 20px; 
            margin-bottom: 15px; 
            border-radius: 16px; 
            background: rgba(255,255,255,0.03); 
            border: 1px solid rgba(255,255,255,0.05);
            transition: 0.3s;
            backdrop-filter: blur(5px);
        }
        .notice-item.highlight {
            border-left: 4px solid #f43f5e;
            background: linear-gradient(90deg, rgba(244, 63, 94, 0.1), rgba(0,0,0,0));
            border-top: 1px solid rgba(244, 63, 94, 0.2);
            border-bottom: 1px solid rgba(244, 63, 94, 0.2);
            box-shadow: 0 8px 20px rgba(225, 29, 72, 0.15);
        }

        /* Bento Grid */
        .bento-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 25px;
            perspective: 1000px; /* Required for flip effect */
        }

        .bento-card {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 25px;
            padding: 30px;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            border: 1px solid rgba(255,255,255,0.05);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 1;
            min-height: 250px;
            display: flex;
            flex-direction: column;
        }

        .bento-card::before {
            content: '';
            position: absolute;
            width: 150px; height: 150px;
            border-radius: 50%;
            filter: blur(45px);
            z-index: -1;
            opacity: 0.3;
            transition: opacity 0.4s ease, transform 0.4s ease;
        }

        .card-fees::before { background: #10b981; top: -50px; right: -50px; }
        .card-results::before { background: #3b82f6; bottom: -50px; left: -50px; }
        .card-maint::before { background: #f59e0b; top: -50px; left: -50px; }
        .card-about::before { background: #ec4899; bottom: -50px; right: -50px; }
        .card-attendance-front::before { background: #818cf8; top: -50px; right: -50px; }
        .card-attendance-back::before { background: #f472b6; bottom: -50px; left: -50px; }

        .bento-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: rgba(255,255,255,0.2);
            box-shadow: 0 15px 30px rgba(0,0,0,0.5);
        }
        .bento-card:hover::before { opacity: 0.8; transform: scale(1.2); }

        .card-icon {
            width: 60px; height: 60px;
            border-radius: 18px;
            display: flex; align-items: center; justify-content: center;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* üí• FLIP CARD SPECIFIC CSS üí• */
        .flip-card {
            background-color: transparent;
            min-height: 310px;
            cursor: pointer;
        }
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }
        .flip-front, .flip-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 25px;
        }
        .flip-back {
            transform: rotateY(180deg);
        }
    </style>
</head>
<body>

    <button onclick="window.logout()" style="position: fixed; bottom: 20px; right: 20px; left: auto; width: max-content; z-index: 9999; background: rgba(15, 23, 42, 0.85); color: #94a3b8; border: 1px solid #334155; border-radius: 50px; padding: 8px 16px; font-size: 0.85em; font-weight: bold; letter-spacing: 0.5px; cursor: pointer; transition: 0.3s; display: inline-flex; align-items: center; gap: 6px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); backdrop-filter: blur(10px);" onmouseover="this.style.color='#f43f5e'; this.style.borderColor='#f43f5e'; this.style.background='rgba(244, 63, 94, 0.15)'" onmouseout="this.style.color='#94a3b8'; this.style.borderColor='#334155'; this.style.background='rgba(15, 23, 42, 0.85)'">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
        Logout
    </button>

    <div class="container slide-in" style="margin-top: 40px; max-width: 1000px; background: transparent; box-shadow: none;">
        
        <div class="profile-banner" style="margin-bottom: 30px; display: flex; align-items: center; gap: 25px;">
            <div style="position: relative; cursor: pointer; transition: 0.3s;" 
                  onclick="window.location.href='student-profile.html'" title="Edit My Profile"
                  onmouseover="this.style.transform='scale(1.1) rotate(5deg)'" onmouseout="this.style.transform='scale(1) rotate(0)'">
                
                <img id="headerAvatar" src="https://cdn-icons-png.flaticon.com/512/149/149071.png" alt="Avatar" 
                      style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 4px solid white; box-shadow: 0 10px 25px rgba(0,0,0,0.4);">
                
                <div style="position: absolute; bottom: 0; right: 0; background: #10b981; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 3px solid #4f46e5;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
                </div>
            </div>

            <div>
                <h2 id="timeGreeting" style="margin: 0; font-size: 1.1em; color: rgba(255,255,255,0.8); font-weight: 500; text-transform: uppercase; letter-spacing: 2px;">Loading...</h2>
                <h1 id="welcomeName" style="margin: 5px 0 10px 0; font-size: 2.6em; color: white; font-weight: 800; text-shadow: 0 2px 10px rgba(0,0,0,0.2); word-wrap: break-word;">Student</h1>
                <p id="academicInfo" style="margin: 0; color: #1e1b4b; font-size: 1em; font-weight: 700; background: rgba(255, 255, 255, 0.9); padding: 6px 15px; border-radius: 20px; display: inline-block; box-shadow: 0 4px 10px rgba(0,0,0,0.2);">Loading academic records...</p>
            </div>
        </div>

        <div style="background: rgba(15, 23, 42, 0.6); border: 1px solid rgba(225, 29, 72, 0.2); border-radius: 20px; margin-bottom: 35px; display: flex; overflow: hidden; backdrop-filter: blur(16px); box-shadow: 0 15px 35px rgba(0,0,0,0.4);">
            
            <div style="background: linear-gradient(135deg, #e11d48 0%, #be123c 100%); padding: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; min-width: 110px; z-index: 2; box-shadow: 5px 0 15px rgba(0,0,0,0.5);">
                <div style="position: relative; margin-bottom: 5px;">
                    <span style="font-size: 2em;">üì¢</span>
                    <div style="position: absolute; top: -2px; right: -2px; width: 10px; height: 10px; background: #fff; border-radius: 50%; animation: pulseDot 1.5s infinite;"></div>
                </div>
                <span style="color: white; font-weight: bold; letter-spacing: 1px; font-size: 0.9em;">NOTICES</span>
            </div>
            
            <div style="flex: 1; position: relative; height: 150px; width: 100%; box-sizing: border-box; overflow: hidden; -webkit-mask-image: linear-gradient(to bottom, transparent, black 15%, black 85%, transparent); mask-image: linear-gradient(to bottom, transparent, black 15%, black 85%, transparent);">
                <div id="studentNoticeBoard" class="notice-scroll">
                    <p style="color: #94a3b8; text-align: center; margin-top: 60px; font-style: italic;">Connecting to secure Noticeboard server...</p>
                </div>
            </div>
        </div>

        <div class="bento-grid">
            
            <div class="bento-card card-fees" onclick="window.location.href='student-fees.html'">
                <div class="card-icon" style="color: #34d399;">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="5" width="20" height="14" rx="2"></rect><line x1="2" y1="10" x2="22" y2="10"></line></svg>
                </div>
                <h3 style="color: white; margin: 0 0 10px 0; font-size: 1.4em;">Fee Portal</h3>
                <p style="color: #94a3b8; font-size: 0.95em; margin: 0; line-height: 1.6;">Manage semester dues, view ledgers, and download digital receipts.</p>
                <div style="margin-top: 20px; color: #34d399; font-weight: bold; font-size: 0.9em; display: flex; align-items: center; gap: 5px;">Pay Now <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></div>
            </div>

            <div class="bento-card card-results" onclick="window.open('https://results.bput.ac.in/', '_blank')">
                <div class="card-icon" style="color: #60a5fa;">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"></path><path d="M6 12v5c3 3 9 3 12 0v-5"></path></svg>
                </div>
                <h3 style="color: white; margin: 0 0 10px 0; font-size: 1.4em;">Check Results</h3>
                <p style="color: #94a3b8; font-size: 0.95em; margin: 0; line-height: 1.6;">Access your latest academic performance directly on the BPUT portal.</p>
                <div style="margin-top: 20px; color: #60a5fa; font-weight: bold; font-size: 0.9em; display: flex; align-items: center; gap: 5px;">View Portal <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></div>
            </div>

            <div class="bento-card card-maint" onclick="window.location.href='student.html'">
                <div class="card-icon" style="color: #fbbf24;">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg>
                </div>
                <h3 style="color: white; margin: 0 0 10px 0; font-size: 1.4em;">Query</h3>
                <p style="color: #94a3b8; font-size: 0.95em; margin: 0; line-height: 1.6;">Report campus issues, lodge complaints, and track resolution status.</p>
                <div style="margin-top: 20px; color: #fbbf24; font-weight: bold; font-size: 0.9em; display: flex; align-items: center; gap: 5px;">Raise Query <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></div>
            </div>

            <div class="bento-card card-about" onclick="window.location.href='about-college.html'">
                <div class="card-icon" style="color: #f472b6;">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                </div>
                <h3 style="color: white; margin: 0 0 10px 0; font-size: 1.4em;">About EATM</h3>
                <p style="color: #94a3b8; font-size: 0.95em; margin: 0; line-height: 1.6;">Explore our beautiful campus vision, facilities, and academic accreditations.</p>
                <div style="margin-top: 20px; color: #f472b6; font-weight: bold; font-size: 0.9em; display: flex; align-items: center; gap: 5px;">Discover <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></div>
            </div>

            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-front bento-card card-attendance-front">
                        <h3 style="color: white; margin: 0 0 15px 0; font-size: 1.4em;">My Attendance</h3>
                        <div style="position: relative; height: 140px; width: 100%; display: flex; align-items: center; justify-content: center;">
                            <canvas id="attendanceDoughnut"></canvas>
                            <div style="position: absolute; top: 55%; left: 50%; transform: translate(-50%, -50%);">
                                <span id="attendancePercentageDisplay" style="font-size: 1.8em; font-weight: 800; color: #f8fafc;">--%</span>
                            </div>
                        </div>
                        <p style="color: #94a3b8; font-size: 0.8em; margin-top: 10px; font-weight: bold;">Hover to see trends ‚ûù</p>
                    </div>
                    <div class="flip-back bento-card card-attendance-back">
                        <h3 style="color: white; margin: 0 0 10px 0; font-size: 1.2em;">Presence Trends</h3>
                        <div style="height: 160px; width: 100%;">
                            <canvas id="attendanceBarChart"></canvas>
                        </div>
                        <p id="attendanceStatusText" style="margin-top: 10px; color: #cbd5e1; font-size: 0.75em;">Syncing live records...</p>
                    </div>
                </div>
            </div>

        </div>

    </div>
    
    <script type="module" src="app.js"></script>
</body>
</html>